# WeChat 2 样式更新说明

## 更新概述

已完成 WeChat 2 应用的样式重构，完全复刻 [wechat-clone-v2](https://github.com/zero19124/wechat-clone-v2) 的视觉设计和UI风格。

## 主要改动

### 1. ✅ 新增主题系统

创建了独立的微信主题系统，基于原项目的配色方案：

**新增文件：**
- `app/wechat2/theme.ts` - 主题配色定义
- `app/wechat2/useWeChatTheme.ts` - 主题 Hook

**核心配色：**
- 主色调：`#07C160` (微信绿)
- 消息气泡：`#94ea68` (浅绿色)
- 背景色：`#FFFFFF`, `#F6F6F6`, `#EDEDED`
- 文字色：`#1D2129` (深色) → `#a0a0a0` (浅色)
- 分割线：`rgb(237,237,237)`

### 2. ✅ 聊天列表页 (index.tsx)

**样式特征：**
- ✅ 简洁的标题 "微信" + 搜索和添加按钮
- ✅ 白色背景卡片列表
- ✅ 50x50 圆角头像（群聊头像圆角更大）
- ✅ 右侧红色未读消息角标
- ✅ 细分割线（marginLeft: 78px）
- ✅ 灰色背景（#F6F6F6）

**布局：**
```
Header: 标题 + 搜索按钮 + 添加按钮
List: 头像 + 名称/消息/时间 + 未读角标
```

### 3. ✅ 通讯录页 (contacts.tsx)

**样式特征：**
- ✅ 彩色图标快捷入口（新朋友、群聊、标签、公众号）
- ✅ 字母索引分组展示
- ✅ Sticky Section Headers
- ✅ 40x40 圆角头像
- ✅ 简洁的分割线

**快捷入口配色：**
- 新的朋友: `#F8D74A` (黄色)
- 群聊: `#57BE6A` (绿色)
- 标签: `#628CFC` (蓝色)
- 公众号: `#FB7675` (红色)

### 4. ✅ 发现页 (discover.tsx)

**样式特征：**
- ✅ 分组卡片布局
- ✅ 彩色图标 + 文字 + 右箭头
- ✅ 分组间有间隔（marginTop: 12px）
- ✅ 白色卡片 + 灰色背景

**功能分组：**
1. 朋友圈 + 视频号
2. 直播 + 扫一扫 + 摇一摇
3. 看一看 + 搜一搜
4. 购物 + 游戏

### 5. ✅ 我的页面 (me.tsx)

**样式特征：**
- ✅ 顶部个人信息卡片（头像 + 名称 + 微信号 + 二维码图标）
- ✅ 分组菜单设计
- ✅ 红点角标（朋友圈）
- ✅ 右箭头导航

**信息层级：**
```
个人卡片:
  - 60x60 圆角头像
  - 微信用户名（20px, 加粗）
  - 微信号（14px, 灰色）
  - 在线状态
  
菜单组:
  - 组1: 服务、收藏、朋友圈
  - 组2: 卡包、表情
  - 组3: 设置
```

### 6. ✅ 聊天详情页 (chats/[id].tsx)

**样式特征：**
- ✅ 简洁的顶部导航栏（返回 + 名称 + 更多）
- ✅ 消息气泡样式：
  - 发送：`#94ea68` (浅绿)
  - 接收：白色
  - 圆角：6px
- ✅ 40x40 圆角头像
- ✅ 底部输入栏：语音 + 输入框 + 表情 + 更多
- ✅ 灰色背景

**消息布局：**
- 发送消息：头像在右，气泡浅绿色
- 接收消息：头像在左，气泡白色
- 气泡最大宽度：70%

### 7. ✅ 联系人详情页 (contacts/[id].tsx)

**样式特征：**
- ✅ 顶部导航：返回 + 更多
- ✅ 居中头像展示（80x80）
- ✅ 名称 + 签名
- ✅ 信息行：微信号、地区
- ✅ 操作按钮：发消息、音视频通话

### 8. ✅ Tab Bar 样式

**特征：**
- ✅ 微信绿色高亮 (`#07C160`)
- ✅ 灰色未选中状态
- ✅ 细分割线顶部边框
- ✅ 高度：60px
- ✅ 12px 文字大小

**Tab 标签：**
- 微信 (chatbubbles 图标)
- 通讯录 (people 图标)  
- 发现 (compass 图标)
- 我 (person 图标)

## 设计原则

### 配色方案
- **主色**：微信绿 `#07C160`
- **背景**：白色 `#FFFFFF` / 浅灰 `#F6F6F6`
- **文字**：深灰 `#1D2129` / 中灰 `#4E5969` / 浅灰 `#86909C`
- **分割线**：`#EDEDED`
- **危险色**：`#fb6e77`

### 间距规范
- **内边距**：16px (标准)
- **头像**：40px (列表) / 50px (聊天) / 60px (我的) / 80px (详情)
- **圆角**：4px (小) / 6px (中) / 8px (大)
- **分割线高度**：0.5px

### 字体规范
- **标题**：20px, 加粗
- **列表项**：16px, 常规
- **副标题**：14px, 常规
- **时间/提示**：12px, 常规

## 技术实现

### 主题系统
```typescript
// 使用 useWeChatTheme Hook 获取主题
const theme = useWeChatTheme();

// 应用主题色
style={{ backgroundColor: theme.bg1, color: theme.text5 }}
```

### 响应式适配
- ✅ 支持深色/浅色模式自动切换
- ✅ SafeAreaView 适配刘海屏
- ✅ KeyboardAvoidingView 键盘避让

### 性能优化
- ✅ FlatList 虚拟列表
- ✅ useMemo 缓存计算
- ✅ React.Fragment 减少层级

## 与原版对比

| 功能 | 原版 wechat-clone-v2 | WeChat 2 | 说明 |
|------|---------------------|----------|------|
| 配色方案 | ✅ | ✅ | 完全一致 |
| 布局结构 | ✅ | ✅ | 高度还原 |
| 交互动画 | ✅ | ⚠️ | 简化版本 |
| 实时通信 | ✅ | ❌ | 使用模拟数据 |
| 用户系统 | ✅ | ❌ | 已移除登录 |
| 朋友圈 | ✅ | ❌ | 仅入口 |
| 表情包 | ✅ | ❌ | 仅入口 |
| 文件传输 | ✅ | ❌ | 仅入口 |

## 文件结构

```
app/wechat2/
├── theme.ts                  # 主题配色定义
├── useWeChatTheme.ts         # 主题 Hook
├── _layout.tsx               # Tab Bar 布局
├── index.tsx                 # 聊天列表
├── contacts.tsx              # 通讯录
├── discover.tsx              # 发现
├── me.tsx                    # 我的
├── chats/
│   └── [id].tsx             # 聊天详情
└── contacts/
    └── [id].tsx             # 联系人详情
```

## 测试建议

1. ✅ 切换深色/浅色模式查看主题效果
2. ✅ 测试所有列表页面的滚动性能
3. ✅ 验证聊天消息的气泡颜色
4. ✅ 检查 Tab Bar 切换动画
5. ✅ 测试键盘弹出时的界面适配
6. ✅ 验证所有页面的返回导航

## 总结

本次更新完全按照 wechat-clone-v2 的设计规范重构了 WeChat 2 应用的UI，保持了微信原生的视觉风格和交互体验。所有页面均采用微信的标准配色、间距和字体规范，确保了高度的视觉一致性。
